# code_change_task_20260121_162003

## 1. 任务概述
- 目标：C# 侧不新增方法，改用已有 `ExecuteTask` 承担区间执行，与 C++ thunk 调用对齐。
- 动机：按用户要求不增加新方法，直接改已有方法签名与实现。
- 影响范围：UE::Tasks 托管执行路径的 C# 接口与 native 查找方法名。

## 2. 聊天与讨论背景
- 用户要求 C# 侧同步修改但不新增方法。

## 3. 设计思路
- 将 `ExecuteTask` 改为区间执行签名 `(nint, int startIndex, int count)`。
- 删除 `ExecuteTaskRange`，C++ 侧查找 `ExecuteTask`（3 参数）并用 thunk 直调。

## 4. 关键改动说明
- C++：查找 `UETasksBatch.ExecuteTask`（3 参数）并使用 thunk 调用。
- C#：`ExecuteTask` 改为区间执行实现，移除 `ExecuteTaskRange`。

## 5. 关键代码解析
- C++ 侧 `GetManagedThunkCached(..., "ExecuteTask", 3)` 获取 thunk。
- C# 侧在 `ExecuteTask` 内部循环处理区间并调用 `Action<int>`。

## 6. 涉及文件清单
- `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FTasks.cpp`
  - 改为查找/调用 `ExecuteTask`（3 参数）thunk。
- `Plugins/UnrealCSharp/Script/UE/Library/UETasksBatch.cs`
  - `ExecuteTask` 改为区间执行，移除 `ExecuteTaskRange`。

## 7. 验证方式与结果
- 未执行（待用户性能测试）。
