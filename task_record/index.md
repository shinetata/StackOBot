# 任务记录索引

| 时间戳 | 标题 | tags | 涉及文件 | 验证方式 | 记录文件 |
| --- | --- | --- | --- | --- | --- |
| 2026-01-12 10:03:14 | 补充工程概览与回复规范到 AGENTS.md | docs,agents | `AGENTS.md` | 目视检查 Markdown 渲染与内容一致性 | `task_record/code_change_task_20260112_100314.md` |
| 2026-01-12 10:09:07 | 完善 .gitignore 忽略 UE/C# 生成物 | git,ignore | `.gitignore` | `git status` 确认噪音变更减少 | `task_record/code_change_task_20260112_100907.md` |
| 2026-01-12 10:20:28 | 总结 UnrealCSharp × UE 交互机制新手文档 | docs,unrealcsharp | `docs/tech/unrealcsharp-ue-interaction-beginner-guide.md` | 目视检查 Markdown 结构与路径引用 | `task_record/code_change_task_20260112_102028.md` |
| 2026-01-12 10:35:41 | 为 UnrealCSharp 新手文档补充项目代码示例 | docs,unrealcsharp,examples | `docs/tech/unrealcsharp-ue-interaction-beginner-guide.md` | 目视检查代码片段与引用文件一致 | `task_record/code_change_task_20260112_103541.md` |
| 2026-01-12 10:47:09 | 为 UnrealCSharp 新手文档补充架构图与流程图 | docs,unrealcsharp,diagram | `docs/tech/unrealcsharp-ue-interaction-beginner-guide.md` | 目视检查 Mermaid 语法与关键路径/函数标注 | `task_record/code_change_task_20260112_104709.md` |
| 2026-01-12 10:56:46 | 修复 Mermaid 架构图渲染错误 | docs,unrealcsharp,diagram | `docs/tech/unrealcsharp-ue-interaction-beginner-guide.md` | Mermaid 语法检查（避免转义引号） | `task_record/code_change_task_20260112_105646.md` |
| 2026-01-12 11:47:49 | 补充 C#-First（Unity-like）交互细节章节 | docs,unrealcsharp,csharp-first | `docs/tech/unrealcsharp-ue-interaction-beginner-guide.md` | 目视检查术语一致性与引用示例 | `task_record/code_change_task_20260112_114749.md` |
| 2026-01-12 12:41:59 | 新增 UnrealCSharp 运行时线程模型文档 | docs,unrealcsharp,threading | `docs/tech/unrealcsharp-runtime-threading-model.md` | 目视检查关键代码引用与 Mermaid 语法 | `task_record/code_change_task_20260112_124159.md` |
| 2026-01-12 14:57:23 | 新增 UnrealCSharp 运行时执行流程图文档 | docs,unrealcsharp,flow | `docs/tech/unrealcsharp-runtime-execution-flow.md` | 目视检查关键入口函数与流程一致 | `task_record/code_change_task_20260112_145723.md` |
| 2026-01-12 15:21:23 | 按 ASCII 规范优化运行时执行流程图 | docs,unrealcsharp,diagram,flow | `docs/tech/unrealcsharp-runtime-execution-flow.md` | 目视检查 ASCII 框图对齐与无 Mermaid；`Select-String` 检索关键切入点 | `task_record/code_change_task_20260112_152123.md` |
| 2026-01-12 17:14:39 | 沉淀 TaskGraph 并行执行纯 C# 计算讨论文档 | docs,unrealcsharp,taskgraph,parallel | `docs/tech/unrealcsharp-taskgraph-parallel-csharp.md` | 目视检查 ASCII 图、伪代码段与路径引用 | `task_record/code_change_task_20260112_171439.md` |
| 2026-01-12 18:10:55 | 明确 chunk 切分由 C# SDK 层封装 | docs,unrealcsharp,taskgraph,parallel,chunking | `docs/tech/unrealcsharp-taskgraph-parallel-csharp.md` | 目视检查：示例与接口草案统一使用 `ParallelFor` | `task_record/code_change_task_20260112_181055.md` |
| 2026-01-13 09:59:25 | 补充 C# 输出到 UE Output Log 的三种方式 | docs,unrealcsharp,log | `docs/tech/unrealcsharp-ue-interaction-beginner-guide.md` | 目视检查示例代码与过滤器提示 | `task_record/code_change_task_20260113_095925.md` |
| 2026-01-13 10:09:43 | 恢复 TaskGraph 最小 PoC：worker 执行 C# probe | unrealcsharp,taskgraph,poc | `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FTaskGraph.cpp`, `Plugins/UnrealCSharp/Script/UE/Library/TaskGraphProbe.cs`, `docs/tech/unrealcsharp-taskgraph-parallel-csharp.md` | 运行时调用 `TaskGraphProbe.Enqueue` 观察日志 `GT!=Worker` | `task_record/code_change_task_20260113_100943.md` |
| 2026-01-13 10:17:12 | 修复 TaskGraph PoC internal call 绑定名不匹配 | unrealcsharp,taskgraph,poc,internalcall | `Plugins/UnrealCSharp/Script/UE/Library/FTaskGraphImplementation.cs`, `Plugins/UnrealCSharp/Script/UE/Library/TaskGraphProbe.cs`, `docs/tech/unrealcsharp-taskgraph-parallel-csharp.md` | 重新编译程序集后运行：`TaskGraphProbe.Enqueue` 不再 MissingMethod | `task_record/code_change_task_20260113_101712.md` |
| 2026-01-13 10:54:09 | 修复 TaskGraph PoC 的 mono_thread_attach 链接错误 | unrealcsharp,taskgraph,poc,linker | `Plugins/UnrealCSharp/Source/UnrealCSharpCore/Public/Domain/FMonoDomain.h`, `Plugins/UnrealCSharp/Source/UnrealCSharpCore/Private/Domain/FMonoDomain.cpp`, `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FTaskGraph.cpp` | VS 重新生成不再 LNK2019；PIE 调用 probe 输出 `GT!=Worker` | `task_record/code_change_task_20260113_105409.md` |
| 2026-01-13 11:08:47 | 验证主线程数组创建，worker 遍历并修改 | unrealcsharp,taskgraph,poc | `Plugins/UnrealCSharp/Script/UE/Library/TaskGraphProbe.cs`, `docs/tech/unrealcsharp-taskgraph-parallel-csharp.md` | 调用 `MainThreadCreateSharedInt32(10000)` + `Enqueue`，检查 `last=19998` | `task_record/code_change_task_20260113_110847.md` |
| 2026-01-13 11:16:04 | 避免 TaskGraph worker 重复 attach 崩溃 | unrealcsharp,taskgraph,poc,mono | `Plugins/UnrealCSharp/Source/UnrealCSharpCore/Private/Domain/FMonoDomain.cpp` | 运行数组遍历 PoC 不再闪退；日志正常输出 | `task_record/code_change_task_20260113_111604.md` |
| 2026-01-13 11:46:12 | PGD ParallelJob 对标 UE TaskGraph 迁移建议文档 | docs,pgd,taskgraph,unrealcsharp | `docs/tech/pgd-paralleljob-to-ue-taskgraph-mapping.md` | 目视检查：ASCII 图、能力映射表、关键路径引用 | `task_record/code_change_task_20260113_114612.md` |
| 2026-01-13 11:59:20 | 更新对标文档：PGD 不改动 + Span 性能说明 | docs,pgd,taskgraph,span | `docs/tech/pgd-paralleljob-to-ue-taskgraph-mapping.md` | 目视检查：TL;DR/落地形态/Span 小节一致性 | `task_record/code_change_task_20260113_115920.md` |
| 2026-01-13 14:40:19 | TaskGraph 后端跑通“执行批次 tasks[]”最小桥接 | unrealcsharp,taskgraph,batch,parallel,pgd | `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FTaskGraph.cpp`, `Plugins/UnrealCSharp/Script/UE/Library/TaskGraphBatch.cs`, `docs/tech/unrealcsharp-taskgraph-parallel-csharp.md`, `docs/tech/pgd-paralleljob-to-ue-taskgraph-mapping.md` | 运行时调用 `TaskGraphBatch.ExecuteBatch(...)` 检查 Output Log | `task_record/code_change_task_20260113_143842.md` |
| 2026-01-13 15:26:48 | 为 C# 暴露 UE native thread id（TaskGraph worker 验证） | unrealcsharp,taskgraph,threading | `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FTaskGraph.cpp`, `Plugins/UnrealCSharp/Script/UE/Library/FTaskGraphImplementation.cs`, `Plugins/UnrealCSharp/Script/UE/Library/TaskGraphBatch.cs` | 运行时打印 `TaskGraphBatch.GetCurrentNativeThreadId()` 观察 worker 分布 | `task_record/code_change_task_20260113_152635.md` |
| 2026-01-13 15:34:59 | 修复 TaskGraph 批次等待 API 类型不匹配导致的编译失败 | unrealcsharp,taskgraph,buildfix | `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FTaskGraph.cpp` | VS/UBT 重新生成不再报 `WaitUntilTasksComplete` C2664 | `task_record/code_change_task_20260113_153454.md` |
| 2026-01-13 16:27:07 | 补充 TaskGraph 非阻塞式批次执行方案（文档） | docs,unrealcsharp,taskgraph,async | `docs/tech/unrealcsharp-taskgraph-parallel-csharp.md` | 目视检查：无冲突标记；ASCII 图与伪代码完整 | `task_record/code_change_task_20260113_162638.md` |
| 2026-01-13 16:40:09 | 将非阻塞式 TaskGraph 方案沉淀到 PGD 对标文档 + 补齐本机路径 | docs,pgd,taskgraph,async | `docs/tech/pgd-paralleljob-to-ue-taskgraph-mapping.md`, `docs/tech/unrealcsharp-taskgraph-parallel-csharp.md` | 目视检查：方案集中于 PGD 对标文档；路径段落可直接复用为上下文 | `task_record/code_change_task_20260113_163945.md` |
| 2026-01-13 17:19:27 | 基于 PGD 单测/源码审视 TaskGraph 设计（极致性能优先） | docs,pgd,taskgraph,performance | `docs/tech/pgd-paralleljob-to-ue-taskgraph-mapping.md` | 目视检查：新增单测用法/规范/性能审视章节与伪代码 | `task_record/code_change_task_20260113_171844.md` |
| 2026-01-13 18:40:11 | 新增 UE TaskGraph 性能评估方案文档（以 PGD ECS 为基线） | docs,taskgraph,benchmark,pgd | `docs/tech/ue-taskgraph-benchmarking-for-pgd.md` | 目视检查：三层评估框架与基准纪律清单完整 | `task_record/code_change_task_20260113_184001.md` |
| 2026-01-13 18:50:41 | 精简 TaskGraph 性能评估方案为“总时长对比”（对齐 PGD 单测） | docs,taskgraph,benchmark,pgd | `docs/tech/ue-taskgraph-benchmarking-for-pgd.md` | 目视检查：固定参数 + warmup + 总耗时伪代码 | `task_record/code_change_task_20260113_185033.md` |
| 2026-01-13 19:01:16 | 搭建 baseline/testline 性能对比入口（MainMenu BeginPlay 调用） | unrealcsharp,taskgraph,benchmark | `Plugins/UnrealCSharp/Script/UE/Library/TaskGraphPerfComparison.cs`, `Script/Game/Game/StackOBot/UI/MainMenu/MainMenu_C.cs` | 进入 MainMenu 关卡观察 `[TaskGraphPerf]` 总耗时输出 | `task_record/code_change_task_20260113_190111.md` |
| 2026-01-13 19:05:27 | 拆分 TaskGraph 批次接口为 baseline/testline 两条线 | unrealcsharp,taskgraph,benchmark | `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FTaskGraph.cpp`, `Plugins/UnrealCSharp/Script/UE/Library/TaskGraphBatchLines.cs`, `Plugins/UnrealCSharp/Script/UE/Library/TaskGraphPerfComparison.cs` | 进入 MainMenu 关卡观察 baseline/testline 两条总耗时输出 | `task_record/code_change_task_20260113_190518.md` |
| 2026-01-13 19:27:35 | testline 缓存托管入口查找（减少每批次 Class/Method 查询） | unrealcsharp,taskgraph,performance | `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FTaskGraph.cpp` | 进入 MainMenu 关卡观察 testline/baseline 总耗时差异 | `task_record/code_change_task_20260113_192714.md` |
| 2026-01-13 19:41:46 | 回填：baseline 同步托管入口查找缓存（与 testline 对齐） | unrealcsharp,taskgraph,performance | `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FTaskGraph.cpp` | 进入 MainMenu 关卡观察 baseline/testline 耗时接近 | `task_record/code_change_task_20260113_194138.md` |
| 2026-01-15 16:08:03 | 补充“TaskGraph worker × Mono attach × 二次 PIE 卡死”问题梳理文档 | docs,unrealcsharp,taskgraph,mono,pie,freeze | `docs/tech/unrealcsharp-taskgraph-worker-mono-attach-pie-freeze.md` | 目视检查 Markdown 与 ASCII 流程图 | `task_record/archive/2026-W03/code_change_task_20260115_160803.md` |
| 2026-01-15 17:17:13 | 补充“线程状态不收敛/stop-the-world”ASCII 解释图 | docs,unrealcsharp,taskgraph,mono,pie,freeze | `docs/tech/unrealcsharp-taskgraph-worker-mono-attach-pie-freeze.md` | 目视检查 Markdown 与 ASCII 图 | `task_record/archive/2026-W03/code_change_task_20260115_171713.md` |
| 2026-01-15 17:32:52 | TaskGraph×UnrealCSharp 并行化现状与风险（负责人汇报） | docs,pgd,taskgraph,unrealcsharp,report | `docs/tech/pgd-taskgraph-unrealcsharp-exec-summary-for-leads.md` | 目视检查 Markdown 与 ASCII 图 | `task_record/archive/2026-W03/code_change_task_20260115_173252.md` |
| 2026-01-15 18:59:25 | 为负责人汇报文档补充 Debug 复盘证据链 | docs,pgd,taskgraph,unrealcsharp,report,debug | `docs/tech/pgd-taskgraph-unrealcsharp-exec-summary-for-leads.md` | 目视检查文档可读性与时间线图 | `task_record/archive/2026-W03/code_change_task_20260115_185925.md` |
| 2026-01-15 19:44:10 | 汇报文档补充：线程ID≠可定向清理 | docs,pgd,taskgraph,unrealcsharp,report,threading | `docs/tech/pgd-taskgraph-unrealcsharp-exec-summary-for-leads.md` | 目视检查 Markdown 可读性与段落插入位置 | `task_record/archive/2026-W03/code_change_task_20260115_194410.md` |
| 2026-01-15 19:51:57 | 新增 TaskGraph worker 线程分配测试入口 | unrealcsharp,taskgraph,testing,threading | `Plugins/UnrealCSharp/Script/UE/Library/TaskGraphWorkerDistribution.cs` | 在 UE 中调用 `TaskGraphWorkerDistribution.Run(...)` 观察输出 | `task_record/archive/2026-W03/code_change_task_20260115_195157.md` |
| 2026-01-15 20:06:09 | 重写负责人汇报文档为“过程记录与复盘” | docs,pgd,taskgraph,unrealcsharp,report,retrospective | `docs/tech/pgd-taskgraph-unrealcsharp-exec-summary-for-leads.md` | 目视检查 Markdown 可读性、ASCII 图对齐与路径引用 | `task_record/archive/2026-W03/code_change_task_20260115_200609.md` |
| 2026-01-15 20:40:39 | 基于 PGD 源码评估路线B（native kernel） | docs,pgd,taskgraph,performance,native | `docs/tech/pgd-route-b-native-kernel-assessment.md` | 目视检查文档结构与风险打标 | `task_record/archive/2026-W03/code_change_task_20260115_204039.md` |
| 2026-01-16 09:10:38 | 展开路线B方案B3：改动范围与数据处理方式 | docs,pgd,taskgraph,native | `docs/tech/pgd-route-b-native-kernel-assessment.md` | 目视检查：B3.1~B3.6 表格/ASCII/约束与验收拆分 | `task_record/archive/2026-W03/code_change_task_20260116_091038.md` |
| 2026-01-16 09:42:21 | 补充 Unity ECS 对标说明（B3.4 视图关系与约束口径） | docs,unity,ecs,pgd,taskgraph,native | `docs/tech/pgd-route-b-native-kernel-assessment.md` | 目视检查：新增小节位置、口径准确性与段落逻辑 | `task_record/archive/2026-W03/code_change_task_20260116_094221.md` |
| 2026-01-16 10:02:53 | 在负责人复盘文档中补齐路线B3（native-backed）方案 | docs,pgd,taskgraph,unrealcsharp,native | `docs/tech/pgd-taskgraph-unrealcsharp-exec-summary-for-leads.md` | 目视检查：路线B段落结构、B1/B2/B3 对比、B3 数据流与红线约束 | `task_record/archive/2026-W03/code_change_task_20260116_100253.md` |
| 2026-01-16 10:40:35 | 新增 NativeBuffer+internal call 最小闭环设计文档（评估用） | docs,unrealcsharp,native,internalcall | `docs/tech/unrealcsharp-nativebuffer-internalcall-minimal-loop.md` | 目视检查：NativeBuffer 防呆、internal call 命名约定、C#/C++ 示例完整性 | `task_record/archive/2026-W03/code_change_task_20260116_104035.md` |
| 2026-01-16 10:45:53 | 补充“不缓存 Span<T>”解释与典型反例 | docs,unrealcsharp,span,native | `docs/tech/unrealcsharp-nativebuffer-internalcall-minimal-loop.md` | 目视检查：反例覆盖字段/await/闭包/ref 缓存与正例 | `task_record/archive/2026-W03/code_change_task_20260116_104553.md` |
| 2026-01-16 10:54:45 | 落地 NativeBuffer+internal call 最小闭环（不含 TaskGraph） | unrealcsharp,native,internalcall | `Plugins/UnrealCSharp/Script/UE/Library/NativeBuffer.cs`, `Plugins/UnrealCSharp/Script/UE/Library/FNativeBufferKernelImplementation.cs`, `Plugins/UnrealCSharp/Script/UE/Library/NativeBufferInternalCallDemo.cs`, `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FNativeBufferKernel.cpp` | `dotnet build Script/UE/UE.csproj -c Debug`；`dotnet build Script/Game/Game.csproj -c Debug` | `task_record/archive/2026-W03/code_change_task_20260116_105445.md` |
| 2026-01-16 11:06:19 | 结合 TaskGraph+NativeBuffer（worker 跑 C++ kernel） | unrealcsharp,taskgraph,native,internalcall | `Plugins/UnrealCSharp/Script/UE/Library/FNativeBufferTaskGraphImplementation.cs`, `Plugins/UnrealCSharp/Script/UE/Library/NativeBufferTaskGraphDemo.cs`, `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FNativeBufferTaskGraph.cpp` | `dotnet build Script/UE/UE.csproj -c Debug`；运行时调用 `NativeBufferTaskGraphDemo.RunInt32Parallel` | `task_record/archive/2026-W03/code_change_task_20260116_110619.md` |
| 2026-01-16 11:11:47 | TaskGraph+NativeBuffer 每任务线程ID打点 | unrealcsharp,taskgraph,native,logging | `Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FNativeBufferTaskGraph.cpp` | 运行时调用 `NativeBufferTaskGraphDemo.RunInt32Parallel`，检查每个 task 输出 `WorkerTid` | `task_record/archive/2026-W03/code_change_task_20260116_111147.md` |
