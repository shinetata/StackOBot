# 任务记录：新增 ECS 基准参数扫测入口

## 1. 任务概述
- 目标：在 ECS 模拟基准中增加 `taskCount` 与 `minParallelChunkSize` 参数扫测能力。
- 影响范围：更新 ECS 对比运行器与 MainMenu 调用。

## 2. 聊天与讨论背景
- 用户要求增加参数敏感性测试，用于判断收益稳定性。

## 3. 设计思路
- 新增 `RunPosVelArchetypeCompareSweep`，按给定数组循环调用单次对比逻辑。
- MainMenu 默认扫测 `taskCount=[4,8,16]`，`minChunk=[5000,10000,20000]`，其余参数沿用基准。

## 4. 关键改动说明
- 抽取单次对比逻辑为内部函数，供扫测重复调用。
- 为每组参数输出一行 `[EcsPerfSweep]` 标识，便于日志过滤。

## 5. 关键代码解析
- Sweep 仅改变 `taskCount` 与 `minParallelChunkSize`，其他参数保持一致，确保可比性。

## 6. 涉及文件清单
- `Plugins/UnrealCSharp/Script/UE/Library/TaskGraphVsCSharpEcsPerfRunner.cs`：新增扫测入口并重构内部逻辑。
- `Script/Game/Game/StackOBot/UI/MainMenu/MainMenu_C.cs`：切换到扫测调用。

## 7. 验证方式与结果
- 目视检查：日志包含 `[EcsPerfSweep]` 前缀与各组合的 `EcsPerfRound/EcsPerfSummary`。
- 未在本地运行 UE 或 C# 编译（本次仅实现与静态检查）。
