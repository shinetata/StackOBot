# 代码生成任务记录

## 1. 任务概述
- 目标：调整“TaskGraph 托管 C# vs Task.Run vs Parallel.For”测试用例为纯托管数组，不使用 NativeBuffer。
- 动机：避免引入 native-backed 变量，专注测量 TaskGraph 执行纯 C# 逻辑的性能。
- 影响范围：测试方案文档与技术索引。

## 2. 聊天与讨论背景
- 用户明确要求取消 NativeBuffer，验证 TaskGraph 执行纯 C# 逻辑的性能。
- 约束：纯计算、类 PGD component 迭代、PIE 入口绑定。

## 3. 设计思路
- 保持与 native kernel 方案一致的参数、交错顺序与统计口径。
- 将数据结构调整为 `int[]`，三条路径各自使用独立数组，避免互相污染。
- 明确禁止 UObject/资源加载/GameThread 同步，避免干扰。

## 4. 关键改动说明
- 文档中将用例数据结构从 `NativeBuffer<int>` 调整为 `int[]`，并修改执行描述与约束。
- 更新技术索引的最后修改日志。

## 5. 关键代码解析
- 文档新增说明：TaskGraph 托管路径 `ExecuteIndex` 直接访问托管数组切片；PF/TR 仍按 chunk 处理。

## 6. 涉及文件清单
- `docs/tech/taskgraph/taskgraph-performance-verification-summary.md`
  - 用例方案改为纯托管数组，不再使用 NativeBuffer。
- `docs/tech/index.md`
  - 更新对应索引行的最后修改日志。

## 7. 验证方式与结果
- 未执行（本次为方案调整）。
- 建议验证：在 `MainMenu_C.ReceiveBeginPlay()` 绑定调用后，PIE 运行并检查 `[ManagedPerfRound]/[ManagedPerfSummary]` 输出。
