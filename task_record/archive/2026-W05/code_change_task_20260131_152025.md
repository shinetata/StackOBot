# 任务概述
- 目标：为 ScheduleUeParallel 增加可选的按 chunk 切片调度能力，支持 batchesPerChunk，并设定小 chunk 阈值不切分。
- 影响范围：仅 UE Tasks 的 ScheduleUeParallel 调度路径。
- 边界：不改 ExecuteUeParallel，不改 PGD 源码。

# 聊天与讨论背景
- 用户要求仅针对 ScheduleUeParallel 设计切分方案。
- minEntitiesPerBatch 由内部固定常量控制（10000），batchesPerChunk 由开发者指定。
- 明确不要冗余设计和不必要的性能开销。

# 设计思路
- 默认维持“按 chunk 调度”的快速路径。
- 当 batchesPerChunk > 1 时启用切片：单 chunk 按区间切分。
- 小 chunk（length < MinEntitiesPerBatch）不切分，直接单任务处理。
- 不引入 TaskRange 类型，使用并行数组保存 chunk + start + count。

# 关键改动说明
- ScheduleUeParallel 增加 batchesPerChunk 重载（1/2 组件）。
- 新增 BuildSlices 辅助方法生成切片任务数组。
- QueryRunner 支持可选切片数组，并按 taskIndex 执行对应区间。

# 关键代码解析
- 切片条件：batchesPerChunk > 1 且 chunk.Length >= MinEntitiesPerBatch。
- 任务映射：sliceChunks/sliceStarts/sliceCounts 三数组按 taskIndex 访问。

# 涉及文件清单
- Script/Game/PGD/Parallel/UETasksQueryExtensions.cs：新增 ScheduleUeParallel 重载、切片构建逻辑与 Runner 切片执行路径。

# 验证方式与结果
- 未运行（需要在 MainMenu 性能测试中手动调用新重载并观察日志）。
