# 任务概述
- 目标：减少 FTasksQuery.cpp 中 ExecuteBatch/ScheduleBatch 的重复代码。
- 动机：前置校验、Thunk 获取与单任务执行逻辑重复且可复用。
- 影响范围：仅 UnrealCSharp 内部任务调度实现。

# 聊天与讨论背景
- 用户要求减少重复代码并提升复用。
- 约束：不引入复杂封装，仅静态内联 helper。

# 设计思路
- 抽取 ValidateManagedContext 统一上下文校验。
- 抽取 GetExecuteThunk 统一 Thunk 获取。
- 抽取 ExecuteOneTask 统一单任务执行与异常处理。

# 关键改动说明
- ExecuteBatchImplementation 与 ScheduleBatchImplementation 改为调用 helper。
- 行为保持不变，仅结构去重。

# 关键代码解析
- ValidateManagedContext：封装 Domain/ManagedJob 校验。
- GetExecuteThunk：封装 ManagedThunk 缓存查找。
- ExecuteOneTask：统一 Thunk 调用与异常处理。

# 涉及文件清单
- Plugins/UnrealCSharp/Source/UnrealCSharp/Private/Domain/InternalCall/FTasksQuery.cpp
  - 新增 helper 并在两处调用。

# 验证方式与结果
- 未执行编译/运行验证（待用户本地验证）。
