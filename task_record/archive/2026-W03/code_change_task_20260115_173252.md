# 代码变更任务记录：输出“TaskGraph×UnrealCSharp 并行化方案与风险”负责人汇报文档

- 时间戳：2026-01-15 17:32:52
- 目标：将当前 TaskGraph×UnrealCSharp（Mono）并行化探索的设计思路、已验证问题、路线取舍，用通俗方式整理成可对负责人汇报的材料（多图、少代码）。
- 范围：仅新增 `docs/tech` 文档，并更新 `task_record` 索引。

## 聊天与讨论背景

- 目标对齐：最终目标是 PGD 并行 Job 能力与 UE TaskGraph 结合，并对开发者暴露 UE 侧可用接口（参考 `docs/tech/pgd-paralleljob-to-ue-taskgraph-mapping.md`）。
- 已验证问题：二次 PIE 卡死与 TaskGraph worker `EnsureThreadAttached -> mono_thread_attach(Domain)` 强相关；卡死点稳定在 `LoadFromStream(Game.dll)`。
- 约束：负责人不一定熟悉 TaskGraph/Mono/PIE 概念，需要降低术语门槛，减少代码细节，增强可视化表达。

## 设计思路

- 先解释“我们要做什么”（业务目标）与最少必要概念；
- 用 ASCII 流程图说明当前实现链路；
- 用“强证据实验”说明问题触发条件；
- 给出三条路线（worker 跑托管 / worker 跑 native kernel / 托管并行留在 C#）及取舍；
- 给出建议的下一步与里程碑，便于决策。

## 涉及文件清单

- 新增：`docs/tech/pgd-taskgraph-unrealcsharp-exec-summary-for-leads.md`
  - 负责人汇报版本总结（通俗、少代码、多流程图）。
- 新增：`task_record/archive/2026-W03/code_change_task_20260115_173252.md`
  - 本记录文件。

## 验证方式与结果

- 验证方式：目视检查 Markdown 可读性、术语解释是否自洽、ASCII 图对齐与路径引用可打开。
- 结果：已添加文档与记录。

