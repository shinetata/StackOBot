# 代码变更任务记录：修复 TaskGraph PoC internal call 绑定名不匹配

## 任务概述
- 目标：修复运行时报错 “cant resolve internal call ... TaskGraphProbe::FTaskGraph_EnqueueProbeImplementation”，使 PoC 能从 TaskGraph worker 调度并执行 C# 代码。
- 范围：调整 C# internal call extern 声明位置/命名，并补充文档说明；不改动 C++ 投递逻辑。

## 问题现象
- 日志提示无法解析 internal call：
  - `cant resolve internal call to "Script.Library.TaskGraphProbe::FTaskGraph_EnqueueProbeImplementation"`
- 随后抛出 `System.MissingMethodException`，调用点在 `TaskGraphProbe.Enqueue(...)`。

## 根因分析（基于 UnrealCSharp 绑定规则）
- `FClassBuilder(TEXT("FTaskGraph"), NAMESPACE_LIBRARY).Function("EnqueueProbe", ...)` 注册的 internal call 名称遵循规则：
  - 类：`Script.Library.FTaskGraphImplementation`
  - 方法：`FTaskGraph_EnqueueProbeImplementation`
- 之前将 extern 声明放在 `Script.Library.TaskGraphProbe` 中，导致 Mono 无法按 registered name 找到对应方法。

## 关键改动
- 新增：`Plugins/UnrealCSharp/Script/UE/Library/FTaskGraphImplementation.cs`
  - 按 UnrealCSharp 命名约定提供 extern：`FTaskGraph_EnqueueProbeImplementation(int token)`
- 修改：`Plugins/UnrealCSharp/Script/UE/Library/TaskGraphProbe.cs`
  - `Enqueue(...)` 改为调用 `FTaskGraphImplementation.FTaskGraph_EnqueueProbeImplementation(...)`
- 修改：`docs/tech/unrealcsharp-taskgraph-parallel-csharp.md`
  - 补充说明：extern 需要放在 `F<Class>Implementation` 中

## 涉及文件清单
- 新增：`Plugins/UnrealCSharp/Script/UE/Library/FTaskGraphImplementation.cs`
- 修改：`Plugins/UnrealCSharp/Script/UE/Library/TaskGraphProbe.cs`
- 修改：`docs/tech/unrealcsharp-taskgraph-parallel-csharp.md`
- 新增：`task_record/code_change_task_20260113_101712.md`
- 修改：`task_record/index.md`

## 验证方式（建议）
1) 重新编译/发布 C# 程序集（确保新增 `FTaskGraphImplementation.cs` 进入 `UE.dll`/`Game.dll`）。
2) 在 C# 入口调用 `Script.Library.TaskGraphProbe.Enqueue(123);`
3) Output Log 搜索 `[TaskGraphProbe] ... GT=... Worker=...`，确认 `GT!=Worker`。

## 回滚方式
- 删除/回退上述文件变更，并从 `task_record/index.md` 移除索引行。

